<ion-modal-view class="popup">
    <i class="fa fa-times close" data-ng-click="hideBusinessWebhooks()"></i>
    <ion-content class="color-bg popup-mode" delegate-handle="modalContent" overflow-scroll="true">
        <ion-item class="item-divider title" data-ng-class="{cssArabicRight: $root.arabic_rtl}">
            <span class="divider-padding no-padding-h">{{ translate('WEBHOOKS') }}</span>
        </ion-item>
        <div class="eitems fixdir" select-content>
            <div class="eitem title">
              <div class="f70">&nbsp;</div>
              <div class="dynamic">
                <input style="width: 40%;" class="editable" type="text" value="{{ translate('HOOK') }}" disabled="disabled"><!--
                --><input style="width: 40%;" class="editable" type="text" value="{{ translate('URL') }}" disabled="disabled"><!--
                --><input style="width: 20%;" class="editable" type="text" value="{{ translate('DELAY') }}" disabled="disabled">
              </div>
            </div>
            <div class="eitem" data-ng-repeat="webhook in deal.webhooks | orderBy:'-id'">
              <div class="f70">
                <button data-ng-click="remove(webhook)"><i class="fa fa-trash"></i></button>
                <!--<input class="editable" type="text" data-ng-model="webhook.url" placeholder="{{ translate('URL') }}" data-ng-change="update(webhook)" tabindex="{{($index*2)+3001}}">-->
              </div>
              <div class="dynamic">
                <select data-ng-model="webhook.hook" class="editable" style="width: 40%;" data-ng-change="update(webhook)" tabindex="{{($index*2)+3000}}" disabled="disabled">
                  <option value="">{{ translate('SELECT_HOOK') }}</option>
                  <option value="orders_register">{{ translate('ORDERS_REGISTER') }}</option>
                  <option value="orders_status_updated">{{ translate('ORDERS_STATUS_UPDATED') }}</option>
                  <option value="orders_update_driver">{{ translate('ORDERS_UPDATE_DRIVER') }}</option>
                  <option value="orders_pending">{{ translate('ORDERS_PENDING') }}</option>
                  <option value="orders_completed">{{ translate('ORDERS_COMPLETED') }}</option>
                  <option value="orders_rejected">{{ translate('ORDERS_REJECTED') }}</option>
                  <option value="orders_rejected_business">{{ translate('ORDERS_REJECTED_BUSINESS') }}</option>
                  <option value="orders_driver_in_business">{{ translate('ORDERS_DRIVER_IN_BUSINESS') }}</option>
                  <option value="orders_ready">{{ translate('ORDERS_READY') }}</option>
                  <option value="orders_rejected_driver">{{ translate('ORDERS_REJECTED_DRIVER') }}</option>
                  <option value="orders_accepted_business">{{ translate('ORDERS_ACCEPTED_BUSINESS') }}</option>
                  <option value="orders_accepted_driver">{{ translate('ORDERS_ACCEPTED_DRIVER') }}</option>
                  <option value="orders_pickup_completed_driver">{{ translate('ORDERS_PICKUP_COMPLETED_DRIVER')}}</option>
                  <option value="orders_pickup_failed_driver">{{ translate('ORDERS_PICKUP_FAILED_DRIVER')}}</option>
                  <option value="orders_delivery_completed_driver">{{ translate('ORDERS_DELIVERY_COMPLETED_DRIVER')}}</option>
                  <option value="orders_delivery_failed_driver">{{ translate('ORDERS_DELIVERY_FAILED_DRIVER')}}</option>
                </select><!--
                --><input style="width: 40%;" class="editable" type="text" data-ng-model="webhook.url" placeholder="{{ translate('URL') }}" data-ng-change="update(webhook)" tabindex="{{($index*2)+3001}}" readonly><!--
                --><select data-ng-model="webhook.delay" class="editable" style="width: 20%;" data-ng-change="update(webhook)" tabindex="{{($index*3)+3000}}">
                  <option value="" disabled>{{ translate('SELECT_DELAY') }}</option>
                  <option value="0">{{ translate('IMMEDIATELY') }}</option>
                  <option value="delivery_time">{{ translate('DELIVERY_TIME') }}</option>
                  <option value="pickup_time">{{ translate('PICKUP_TIME') }}</option>
                  <option value="300">5 {{ translate('MINUTES') }}</option>
                  <option value="600">10 {{ translate('MINUTES') }}</option>
                  <option value="900">15 {{ translate('MINUTES') }}</option>
                </select>
              </div>
            </div>
            <div class="eitem">
              <form data-ng-submit="add(curWebhook)">
                <!--<button type="button" data-ng-click="add(curWebhook)"><i class="fa fa-plus-circle"></i> {{ translate('ADD') }}</button>-->
                <div class="f70">
                  <!--<input class="editable" type="text" data-ng-model="curWebhook.url" placeholder="{{ translate('URL') }}" data-ng-change="null" tabindex="4001">-->
                  <button type="submit"><i class="fa fa-plus-circle"></i> {{ translate('ADD') }}</button>
                </div>
                <div class="dynamic">
                  <select data-ng-model="curWebhook.hook" class="editable" style="width: 40%;" tabindex="{{($index*2)+3000}}">
                  <option value="">{{ translate('SELECT_HOOK') }}</option>
                  <option value="orders_register">{{ translate('ORDERS_REGISTER') }}</option>
                  <option value="orders_status_updated">{{ translate('ORDERS_STATUS_UPDATED') }}</option>
                  <option value="orders_update_driver">{{ translate('ORDERS_UPDATE_DRIVER') }}</option>
                  <option value="orders_pending">{{ translate('ORDERS_PENDING') }}</option>
                  <option value="orders_completed">{{ translate('ORDERS_COMPLETED') }}</option>
                  <option value="orders_rejected">{{ translate('ORDERS_REJECTED') }}</option>
                  <option value="orders_rejected_business">{{ translate('ORDERS_REJECTED_BUSINESS') }}</option>
                  <option value="orders_rejected_driver">{{ translate('ORDERS_REJECTED_DRIVER') }}</option>
                  <option value="orders_accepted_business">{{ translate('ORDERS_ACCEPTED_BUSINESS') }}</option>
                  <option value="orders_driver_in_business">{{ translate('ORDERS_DRIVER_IN_BUSINESS') }}</option>
                  <option value="orders_ready">{{ translate('ORDERS_READY') }}</option>
                  <option value="orders_accepted_driver">{{ translate('ORDERS_ACCEPTED_DRIVER') }}</option>
                  <option value="orders_pickup_completed_driver">{{ translate('ORDERS_PICKUP_COMPLETED_DRIVER')}}</option>
                  <option value="orders_pickup_failed_driver">{{ translate('ORDERS_PICKUP_FAILED_DRIVER')}}</option>
                  <option value="orders_delivery_completed_driver">{{ translate('ORDERS_DELIVERY_COMPLETED_DRIVER')}}</option>
                  <option value="orders_delivery_failed_driver">{{ translate('ORDERS_DELIVERY_FAILED_DRIVER')}}</option>
                  </select><!--
                  --><input style="width:40%;" class="editable" type="text" data-ng-model="curWebhook.url" placeholder="{{ translate('URL') }}" tabindex="4001"><!--
                  --><select data-ng-model="curWebhook.delay" class="editable" style="width: 20%;" tabindex="{{($index*3)+3000}}">
                  <option value="" disabled>{{ translate('SELECT_DELAY') }}</option>
                  <option value="0">{{ translate('IMMEDIATELY') }}</option>
                  <option value="delivery_time">{{ translate('DELIVERY_TIME') }}</option>
                  <option value="pickup_time">{{ translate('PICKUP_TIME') }}</option>
                  <option value="300">5 {{ translate('MINUTES') }}</option>
                  <option value="600">10 {{ translate('MINUTES') }}</option>
                  <option value="900">15 {{ translate('MINUTES') }}</option>
                </select>
                </div>
              </form>
            </div>
        </div>
    </ion-content>
</ion-modal-view>
<!--SuperAdmin--><div  ng-show="(TUTORIAL_SUPER && superAdmin)" class="bordRad  box boxManager no-print"><a  class="helppBtn  btnHelp btnHelpGuides btn btn-white btn-animation-1" data-toggle="popover" data-placement="top" data-content="<a target='_blank' href='{{ translate('LINK_HELP_WEBHOOKS')}}' title=''><img class='imgVideo' src='templates/web/img/help_play.png' /><div class='postext'>{{ translate('TITLE_WEBHOOKS')}}</div></a>"><img class="foto" src="templates/web/img/help_button.png"><div class="postextHelp">{{ translate('TITLE_HELP')}}</div></img></a></div>
 <!---Business--><div  ng-show="(TUTORIAL_BUSINESS && !superAdmin)" class="bordRad box boxManager no-print"><a  class="helppBtn  btnHelp btnHelpGuides btn btn-white btn-animation-1" data-toggle="popover" data-placement="top" data-content="<a target='_blank' href='{{ translate('LINK_HELP_WEBHOOKS')}}' title=''><img class='imgVideo' src='templates/web/img/help_play.png' /><div class='postext'>{{ translate('TITLE_WEBHOOKS')}}</div></a>"><img class="foto" src="templates/web/img/help_button.png"><div class="postextHelp">{{ translate('TITLE_HELP')}}</div></img></a></div>